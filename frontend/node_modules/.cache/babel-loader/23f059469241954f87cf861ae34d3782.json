{"ast":null,"code":"import axios from 'axios';\n\nasync function teamsUpdater() {\n  let query = await axios({\n    url: \"http://140.112.174.222:1484/wind/fetch\",\n    method: \"post\",\n    data: {\n      mes: \"123\"\n    }\n  });\n  let data = query.data.result;\n  data.sort((A, B) => A.score < B.score ? 1 : A.score > B.score ? -1 : 0);\n  console.log(data);\n  var teams = new Array(data.length).fill({});\n  let curRank = 1;\n\n  for (let i = 0; i < data.length; i++) {\n    if (i > 0 && data[i].score != data[i - 1].score) {\n      curRank++;\n    }\n\n    teams[i] = {\n      \"rank\": curRank,\n      \"ID\": data[i].ID,\n      \"score\": data[i].score,\n      \"history\": data[i].history\n    };\n  }\n\n  console.log(teams);\n  return teams;\n}\n\nexport default teamsUpdater;","map":{"version":3,"sources":["/home/makerspace/mks_users_home/wind/22-wind/frontend/src/data/teams.js"],"names":["axios","teamsUpdater","query","url","method","data","mes","result","sort","A","B","score","console","log","teams","Array","length","fill","curRank","i","ID","history"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,eAAeC,YAAf,GAA8B;AAC1B,MAAIC,KAAK,GAAG,MAAMF,KAAK,CAAC;AACpBG,IAAAA,GAAG,EAAE,wCADe;AAEpBC,IAAAA,MAAM,EAAE,MAFY;AAGpBC,IAAAA,IAAI,EAAE;AACFC,MAAAA,GAAG,EAAE;AADH;AAHc,GAAD,CAAvB;AAOA,MAAID,IAAI,GAAGH,KAAK,CAACG,IAAN,CAAWE,MAAtB;AACAF,EAAAA,IAAI,CAACG,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAb,GAAsB,CAAtB,GAA4BF,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAb,GAAsB,CAAC,CAAvB,GAA2B,CAA1E;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AAEA,MAAIS,KAAK,GAAG,IAAIC,KAAJ,CAAUV,IAAI,CAACW,MAAf,EAAuBC,IAAvB,CAA4B,EAA5B,CAAZ;AAEA,MAAIC,OAAO,GAAG,CAAd;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,IAAI,CAACW,MAAzB,EAAiCG,CAAC,EAAlC,EAAsC;AAClC,QAAIA,CAAC,GAAG,CAAJ,IAASd,IAAI,CAACc,CAAD,CAAJ,CAAQR,KAAR,IAAiBN,IAAI,CAACc,CAAC,GAAG,CAAL,CAAJ,CAAYR,KAA1C,EAAgD;AAC5CO,MAAAA,OAAO;AACV;;AACDJ,IAAAA,KAAK,CAACK,CAAD,CAAL,GAAW;AACP,cAAQD,OADD;AAEP,YAAMb,IAAI,CAACc,CAAD,CAAJ,CAAQC,EAFP;AAGP,eAASf,IAAI,CAACc,CAAD,CAAJ,CAAQR,KAHV;AAIP,iBAAWN,IAAI,CAACc,CAAD,CAAJ,CAAQE;AAJZ,KAAX;AAMH;;AAEDT,EAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AAEA,SAAOA,KAAP;AACH;;AAED,eAAeb,YAAf","sourcesContent":["import axios from 'axios';\n\nasync function teamsUpdater() {\n    let query = await axios({\n        url: \"http://140.112.174.222:1484/wind/fetch\", \n        method: \"post\", \n        data: {\n            mes: \"123\", \n        }, \n    });\n    let data = query.data.result;\n    data.sort((A, B) => (A.score < B.score) ? 1 : ((A.score > B.score) ? -1 : 0));\n    console.log(data);\n\n    var teams = new Array(data.length).fill({});\n\n    let curRank = 1;\n    for (let i = 0; i < data.length; i++) {\n        if (i > 0 && data[i].score != data[i - 1].score){\n            curRank++;\n        }\n        teams[i] = {\n            \"rank\": curRank, \n            \"ID\": data[i].ID, \n            \"score\": data[i].score, \n            \"history\": data[i].history, \n        };\n    }\n\n    console.log(teams);\n\n    return teams;\n}\n\nexport default teamsUpdater;"]},"metadata":{},"sourceType":"module"}