{"ast":null,"code":"import axios from 'axios';\n\nclass Team {\n  constructor() {\n    this.teams = null;\n  }\n\n  async update() {\n    let query = await axios({\n      url: \"http://140.112.174.222:1484/wind/fetch\",\n      method: \"post\",\n      data: {\n        mes: \"123\"\n      }\n    });\n    let data = query.data.result;\n    data.sort((A, B) => A.score < B.score ? 1 : A.score > B.score ? -1 : 0);\n    console.log(data);\n    let teams = new Array(data.length).fill({});\n    let curRank = 1;\n\n    for (let i = 0; i < data.length; i++) {\n      if (i > 0 && data[i].score != data[i - 1].score) {\n        curRank++;\n      }\n\n      teams[data[i].ID] = {\n        \"rank\": curRank,\n        \"ID\": data[i].ID,\n        \"name\": data[i].name,\n        \"score\": data[i].score,\n        \"history\": data[i].history\n      };\n    }\n\n    this.teams = teams;\n    let res = [...teams];\n    res.sort((A, B) => A.rank > B.rank ? 1 : A.rank < B.rank ? -1 : 0);\n    return res;\n  }\n\n}\n\nexport default new Team();","map":{"version":3,"sources":["/home/makerspace/mks_users_home/wind/22-wind/frontend/src/data/teams.js"],"names":["axios","Team","constructor","teams","update","query","url","method","data","mes","result","sort","A","B","score","console","log","Array","length","fill","curRank","i","ID","name","history","res","rank"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,IAAN,CAAW;AAEPC,EAAAA,WAAW,GAAG;AACV,SAAKC,KAAL,GAAa,IAAb;AACH;;AAEW,QAANC,MAAM,GAAG;AACX,QAAIC,KAAK,GAAG,MAAML,KAAK,CAAC;AACpBM,MAAAA,GAAG,EAAE,wCADe;AAEpBC,MAAAA,MAAM,EAAE,MAFY;AAGpBC,MAAAA,IAAI,EAAE;AACFC,QAAAA,GAAG,EAAE;AADH;AAHc,KAAD,CAAvB;AAOA,QAAID,IAAI,GAAGH,KAAK,CAACG,IAAN,CAAWE,MAAtB;AACAF,IAAAA,IAAI,CAACG,IAAL,CAAU,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAb,GAAsB,CAAtB,GAA4BF,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC,KAAb,GAAsB,CAAC,CAAvB,GAA2B,CAA1E;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AAEA,QAAIL,KAAK,GAAG,IAAIc,KAAJ,CAAUT,IAAI,CAACU,MAAf,EAAuBC,IAAvB,CAA4B,EAA5B,CAAZ;AAEA,QAAIC,OAAO,GAAG,CAAd;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGb,IAAI,CAACU,MAAzB,EAAiCG,CAAC,EAAlC,EAAsC;AAClC,UAAIA,CAAC,GAAG,CAAJ,IAASb,IAAI,CAACa,CAAD,CAAJ,CAAQP,KAAR,IAAiBN,IAAI,CAACa,CAAC,GAAG,CAAL,CAAJ,CAAYP,KAA1C,EAAgD;AAC5CM,QAAAA,OAAO;AACV;;AACDjB,MAAAA,KAAK,CAACK,IAAI,CAACa,CAAD,CAAJ,CAAQC,EAAT,CAAL,GAAoB;AAChB,gBAAQF,OADQ;AAEhB,cAAMZ,IAAI,CAACa,CAAD,CAAJ,CAAQC,EAFE;AAGhB,gBAAQd,IAAI,CAACa,CAAD,CAAJ,CAAQE,IAHA;AAIhB,iBAASf,IAAI,CAACa,CAAD,CAAJ,CAAQP,KAJD;AAKhB,mBAAWN,IAAI,CAACa,CAAD,CAAJ,CAAQG;AALH,OAApB;AAOH;;AAED,SAAKrB,KAAL,GAAaA,KAAb;AACA,QAAIsB,GAAG,GAAG,CAAC,GAAGtB,KAAJ,CAAV;AACAsB,IAAAA,GAAG,CAACd,IAAJ,CAAS,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACc,IAAF,GAASb,CAAC,CAACa,IAAZ,GAAoB,CAApB,GAA0Bd,CAAC,CAACc,IAAF,GAASb,CAAC,CAACa,IAAZ,GAAoB,CAAC,CAArB,GAAyB,CAArE;AAEA,WAAOD,GAAP;AACH;;AAvCM;;AA0CX,eAAe,IAAIxB,IAAJ,EAAf","sourcesContent":["import axios from 'axios';\n\n\nclass Team {\n\n    constructor() {\n        this.teams = null;\n    }\n\n    async update() {\n        let query = await axios({\n            url: \"http://140.112.174.222:1484/wind/fetch\", \n            method: \"post\", \n            data: {\n                mes: \"123\", \n            }, \n        });\n        let data = query.data.result;\n        data.sort((A, B) => (A.score < B.score) ? 1 : ((A.score > B.score) ? -1 : 0));\n        console.log(data);\n\n        let teams = new Array(data.length).fill({});\n\n        let curRank = 1;\n        for (let i = 0; i < data.length; i++) {\n            if (i > 0 && data[i].score != data[i - 1].score){\n                curRank++;\n            }\n            teams[data[i].ID] = {\n                \"rank\": curRank, \n                \"ID\": data[i].ID, \n                \"name\": data[i].name, \n                \"score\": data[i].score, \n                \"history\": data[i].history, \n            };\n        }\n\n        this.teams = teams;\n        let res = [...teams];\n        res.sort((A, B) => (A.rank > B.rank) ? 1 : ((A.rank < B.rank) ? -1 : 0));\n\n        return res;\n    }\n}\n\nexport default new Team;"]},"metadata":{},"sourceType":"module"}